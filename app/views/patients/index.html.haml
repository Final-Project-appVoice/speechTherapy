
= render partial: 'menu/menu', locals: {active: "patients"}

%h1 
  מטופלים 
  %small
    = link_to 'מטופל חדש', new_patient_path, class: 'btn btn-success btn-sm', role: 'button'

%table{:class => 'table table-hover text-center'}
  %tr
    %th.text-center ת"ז
    %th.text-center שם פרטי
    %th.text-center שם משפחה
    %th.text-center מייל
    %th.text-center כתובת
    %th.text-center טלפון
    %th.text-center קופת חולים
    %th.text-center סיסמא
    %th.text-center פעולות    
  - @patients.each do |patient|
    %tr
      %td= patient.id
      %td= patient.firstName
      %td= patient.lastName
      %td= patient.mail
      %td= patient.address
      %td= patient.phone
      %td= patient.hmo
      %td= patient.password
      %td
        = link_to 'הצג', patient, class: 'btn btn-default btn-sm', role: 'button'
        = link_to 'ערוך', edit_patient_path(patient), class: 'btn btn-primary btn-sm', role: 'button'
        = link_to 'מחק', patient, method: :delete, data: { confirm: 'למחוק מטופל?' }, class: 'btn btn-danger btn-sm', role: 'button'
        = link_to {'data-toggle' => "modal", 'data-target' => "#select-ex", :onclick => "patient_exercises(#{patient.id});"}, class: 'btn btn-warning btn-sm'
          שבץ תרגילים
%br/

.modal.fade#select-ex{ :tabindex => "-1", :role => "dialog", "aria-labelledby" => "myModalLabel", "aria-hidden" => "true"}
  .modal-dialog
    .modal-content
      .modal-header
        %button.close{:type => "button", 'data-dismiss' => "modal", 'aria-label' => "Close"}
          %span{'aria-hidden' => "true"}
            &times;
        %h4.modal-title#myModalLabel
          שיבוץ תרגילים
      .modal-body
        = render partial: 'patient_exercises/index', locals: {}